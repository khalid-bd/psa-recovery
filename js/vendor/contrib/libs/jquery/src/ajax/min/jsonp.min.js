var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;return this[a]=!0,a}}),jQuery.ajaxPrefilter("json jsonp",function(a,n,o){var r,s,l,t=a.jsonp!==!1&&(rjsonp.test(a.url)?"url":"string"==typeof a.data&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(a.data)&&"data");return t||"jsonp"===a.dataTypes[0]?(r=a.jsonpCallback=jQuery.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,t?a[t]=a[t].replace(rjsonp,"$1"+r):a.jsonp!==!1&&(a.url+=(ajax_rquery.test(a.url)?"&":"?")+a.jsonp+"="+r),a.converters["script json"]=function(){return l||jQuery.error(r+" was not called"),l[0]},a.dataTypes[0]="json",s=window[r],window[r]=function(){l=arguments},o.always(function(){window[r]=s,a[r]&&(a.jsonpCallback=n.jsonpCallback,oldCallbacks.push(r)),l&&jQuery.isFunction(s)&&s(l[0]),l=s=void 0}),"script"):void 0});